<?xml version="1.0"?>

<!DOCTYPE project [

<!-- =================================================================================================================================== -->
<!-- Settings that you might want to modify                                                                                              -->
<!-- =================================================================================================================================== -->

<!-- Names -->
<!ENTITY username        "asmith">

<!-- LArSoft version -->
<!ENTITY tag             "v08_00_00_25">
<!ENTITY qual            "e17:prof">

<!--
    You will also need to make a tarball of your local environment (with ubcc1pi cloned) that you have tested with the above versions.
    To do this run the command: ./make_tar
-->

<!-- Job settings -->
<!ENTITY numEvents       "9999999">
<!-- NB. I use large number for numEvents to get all events in the files, it's not really the number of events that will be processed -->



<!-- =================================================================================================================================== -->
<!-- Settings that you probably won't need to modify                                                                                     -->
<!-- =================================================================================================================================== -->

<!-- Shorthands -->
<!ENTITY projectName     "ubcc1pi">
<!ENTITY dataTier        "ana">
<!ENTITY schema          "root">
<!ENTITY jobsub           "--append_condor_requirements='(TARGET.HAS_CVMFS_uboone_osgstorage_org==true)'">
]>

<!-- =================================================================================================================================== -->
<!-- =================================================================================================================================== -->
<!-- Below are the project.py settings for each stage                                                                                    -->
<!-- =================================================================================================================================== -->
<!-- =================================================================================================================================== -->

<project name="&projectName;">

    <!-- =============================================================================================================================== -->
    <!-- Set up the LArSoft version                                                                                                      -->
    <!-- =============================================================================================================================== -->
    <larsoft>
        <tag>&tag;</tag>
        <qual>&qual;</qual>
        <local>/pnfs/uboone/resilient/users/&username;/tars/&projectName;/local.tar</local>
    </larsoft>
    
    <!-- =============================================================================================================================== -->
    <!-- Set up the project -->
    <!-- =============================================================================================================================== -->
    <group>uboone</group>
    <os>SL7</os>
    <resource>DEDICATED,OPPORTUNISTIC</resource>

    <!-- To be overridden -->
    <numjobs>0</numjobs>
    <maxfilesperjob>0</maxfilesperjob>
    <numevents>&numEvents;</numevents>

    <stage name="overlays">
        <!-- Settings -->
        <fcl>analysis_file_writer_driver.fcl</fcl>
        <!--numjobs>385</numjobs-->
        <numjobs>385</numjobs>
        <maxfilesperjob>1</maxfilesperjob>
        <numevents>&numEvents;</numevents>

        <!-- Input files -->
        <inputdef>prodgenie_bnb_nu_uboone_overlay_ccinc_reweight_mcc9.1_run1_joelam</inputdef>

        <!-- Output directories -->
        <outdir>/pnfs/uboone/scratch/users/&username;/&projectName;/overlays/</outdir> 
        <logdir>/pnfs/uboone/scratch/users/&username;/&projectName;/overlays/</logdir> 
        <workdir>/pnfs/uboone/resilient/users/&username;/work/&projectName;/overlays/</workdir> 

        <!-- Options -->
        <datatier>&dataTier;</datatier>
        <schema>&schema;</schema>
        <jobsub>&jobsub;</jobsub>
    </stage>
    
    <stage name="dirt">
        <!-- Settings -->
        <fcl>analysis_file_writer_driver.fcl</fcl>
        <numjobs>42</numjobs>
        <maxfilesperjob>1</maxfilesperjob>
        <numevents>&numEvents;</numevents>

        <!-- Input files -->
        <inputdef>prodgenie_bnb_dirt_overlay_ccinc_withWeights_joelam</inputdef>

        <!-- Output directories -->
        <outdir>/pnfs/uboone/scratch/users/&username;/&projectName;/dirt/</outdir> 
        <logdir>/pnfs/uboone/scratch/users/&username;/&projectName;/dirt/</logdir> 
        <workdir>/pnfs/uboone/resilient/users/&username;/work/&projectName;/dirt/</workdir> 

        <!-- Options -->
        <datatier>&dataTier;</datatier>
        <schema>&schema;</schema>
        <jobsub>&jobsub;</jobsub>
    </stage>

    <stage name="dataBNB">
        <!-- Settings -->
        <fcl>analysis_file_writer_driver_data.fcl</fcl>
        <numjobs>304</numjobs>
        <maxfilesperjob>10</maxfilesperjob>
        <numevents>&numEvents;</numevents>

        <!-- Input files -->
        <inputdef>data_bnb_mcc9.1_v08_00_00_25_reco2_C1_nucc_reco2_high_lifetime</inputdef>

        <!-- Output directories -->
        <outdir>/pnfs/uboone/scratch/users/&username;/&projectName;/dataBNB/</outdir> 
        <logdir>/pnfs/uboone/scratch/users/&username;/&projectName;/dataBNB/</logdir> 
        <workdir>/pnfs/uboone/resilient/users/&username;/work/&projectName;/dataBNB/</workdir> 

        <!-- Options -->
        <datatier>&dataTier;</datatier>
        <schema>&schema;</schema>
        <jobsub>&jobsub;</jobsub>
    </stage>
    
    <stage name="dataEXTC1">
        <!-- Settings -->
        <fcl>analysis_file_writer_driver_data.fcl</fcl>
        <numjobs>115</numjobs>
        <maxfilesperjob>10</maxfilesperjob>
        <numevents>&numEvents;</numevents>

        <!-- Input files -->
        <inputdef>data_extbnb_mcc9.1_v08_00_00_25_reco2_C1_nucc_reco2_high_lifetime</inputdef>

        <!-- Output directories -->
        <outdir>/pnfs/uboone/scratch/users/&username;/&projectName;/dataEXTC1/</outdir> 
        <logdir>/pnfs/uboone/scratch/users/&username;/&projectName;/dataEXTC1/</logdir> 
        <workdir>/pnfs/uboone/resilient/users/&username;/work/&projectName;/dataEXTC1/</workdir> 

        <!-- Options -->
        <datatier>&dataTier;</datatier>
        <schema>&schema;</schema>
        <jobsub>&jobsub;</jobsub>
    </stage>
    
    <stage name="dataEXTC2">
        <!-- Settings -->
        <fcl>analysis_file_writer_driver_data.fcl</fcl>
        <numjobs>66</numjobs>
        <maxfilesperjob>10</maxfilesperjob>
        <numevents>&numEvents;</numevents>

        <!-- Input files -->
        <inputdef>data_extbnb_mcc9.1_v08_00_00_25_reco2_C2_nucc_reco2_high_lifetime</inputdef>

        <!-- Output directories -->
        <outdir>/pnfs/uboone/scratch/users/&username;/&projectName;/dataEXTC2/</outdir> 
        <logdir>/pnfs/uboone/scratch/users/&username;/&projectName;/dataEXTC2/</logdir> 
        <workdir>/pnfs/uboone/resilient/users/&username;/work/&projectName;/dataEXTC2/</workdir> 

        <!-- Options -->
        <datatier>&dataTier;</datatier>
        <schema>&schema;</schema>
        <jobsub>&jobsub;</jobsub>
    </stage>
</project>
